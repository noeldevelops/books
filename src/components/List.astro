---
import Card from './Card.astro';
import type { Book } from '../utils/googleSheets';

interface Props {
  year: number;
  books: Book[];
}

const { year, books } = Astro.props;

// You'll need to implement the function to fetch from Google Sheets
// import { getBooksByYear } from '../utils/googleSheets';
---

<div class="year-container">
  <h2>{year}</h2>
  <div class="books-container">
    {books.map(book => (
      <Card 
        title={book.title}
        body={`by ${book.author}`}
        href={book.googleBooksUrl}
        month={book.month}
      />
    ))}
  </div>
</div>

<style>
  .year-container {
    display: flex;
    gap: 1rem;
    width: 100%;
    overflow: hidden;
    padding-bottom: 1rem;
    color: var(--accent);
  }

  .books-container {
    display: flex;
    gap: 1rem;
    width: 100%;
	  overflow-y: auto;
    padding-bottom: 1rem;
  }

@media (max-width: 900px) { 
    .year-container h2 {
      margin: 0;
      writing-mode: vertical-rl;
      text-orientation: upright;
    }
  }
</style>
